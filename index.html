<!DOCTYPE html>
<html lang="en">
<head>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2721702421846303"
     crossorigin="anonymous"></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>funcy's Wandering Trader Trades Config Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
            background-image: linear-gradient(to bottom right, #f0f8ff, #e6f7ff);
        }
        h1, h2 {
            color: #2d5aa2;
            text-shadow: 1px 1px 2px rgba(0,0,0,0.1);
        }
        .container {
            background-color: white;
            padding: 25px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        .container:hover {
            transform: translateY(-2px);
        }
        .form-group {
            margin-bottom: 18px;
            animation: fadeIn 0.5s ease-out;
        }
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: 600;
            color: #3a3a3a;
        }
        input, select {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 6px;
            box-sizing: border-box;
            font-size: 15px;
            transition: all 0.3s ease;
        }
        input:focus, select:focus {
            border-color: #181818;
            box-shadow: 0 0 0 3px rgba(76, 175, 80, 0.2);
        }
        button {
            background-color: #181818;
            color: white;
            padding: 12px 18px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            font-weight: 600;
            margin-right: 10px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        button:hover {
            background-color: #181818;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.15);
        }
        button:active {
            transform: translateY(0);
        }
        .trade {
            border: 2px solid #e0e0e0;
            padding: 20px;
            margin-bottom: 20px;
            border-radius: 8px;
            background-color: #f9f9f9;
            animation: fadeInUp 0.5s ease-out;
            transition: all 0.3s ease;
        }
        .trade:hover {
            border-color: #b3e0b3;
            box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        .trade-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px dashed #ddd;
        }
        .remove-trade {
            background-color: #f44336;
        }
        .remove-trade:hover {
            background-color: #d32f2f;
        }
        #output {
            width: 100%;
            height: 250px;
            font-family: 'Courier New', monospace;
            margin-top: 20px;
            padding: 15px;
            border: 2px solid #ddd;
            border-radius: 6px;
            background-color: #f8f8f8;
            font-size: 14px;
            line-height: 1.5;
            transition: all 0.3s ease;
        }
        #output:focus {
            border-color: #4CAF50;
        }
        .settings {
            margin-bottom: 25px;
            padding: 20px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            background-color: #f9f9f9;
            animation: fadeIn 0.6s ease-out;
        }
        .note {
            font-size: 0.85em;
            color: #666;
            font-style: italic;
            margin-top: 5px;
        }
        .hidden {
            display: none;
        }
        .footer {
            margin-top: 30px;
            font-size: 0.9em;
            color: #666;
            text-align: center;
            padding-top: 15px;
            border-top: 1px solid #eee;
            animation: fadeIn 1s ease-out;
        }
        .footer a {
            color: #2d5aa2;
            text-decoration: none;
            font-weight: 600;
        }
        .footer a:hover {
            text-decoration: underline;
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes fadeInUp {
            from { 
                opacity: 0;
                transform: translateY(10px);
            }
            to { 
                opacity: 1;
                transform: translateY(0);
            }
        }
        .pulse {
            animation: pulse 1.5s infinite;
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
    </style>
</head>
<body>
    <div class="container animate__animated animate__fadeIn">
        <h1 class="animate__animated animate__fadeInDown">Wandering Trader Trades Config Generator</h1>
        <p class="animate__animated animate__fadeInDown animate__delay-1s">Create custom trades for the Wandering Trader in Minecraft! <a href="https://modrinth.com/plugin/funcys-wandering-trader"> Download on Modrinth for free!</a></p>
        
        <div class="settings animate__animated animate__fadeIn animate__delay-1s">
            <h2>Global Settings</h2>
            <div class="form-group">
                <label for="minTrades">Minimum Trades Displayed:</label>
                <input type="number" id="minTrades" value="4" min="1" max="12">
            </div>
            <div class="form-group">
                <label for="maxTrades">Maximum Trades Displayed:</label>
                <input type="number" id="maxTrades" value="6" min="1" max="12">
            </div>
        </div>
        
        <h2 class="animate__animated animate__fadeIn animate__delay-1s">Trades</h2>
        <div id="trades-container">
            <!-- Trade forms will be added here -->
        </div>
        
        <button id="add-trade" class="animate__animated animate__fadeIn animate__delay-1s pulse">‚ûï Add New Trade</button>
        
        <h2 class="animate__animated animate__fadeIn animate__delay-1s">Generated Config</h2>
        <textarea id="output" readonly></textarea>
        <div class="animate__animated animate__fadeIn animate__delay-1s">
            <button id="copy-config">üìã Copy Config</button>
            <button id="generate-config">‚ö° Generate Config</button>
        </div>
        
        <div class="footer animate__animated animate__fadeIn animate__delay-2s">
            <p>Plugin by funcybear | <a href="https://discord.gg/8CpcrZhH" target="_blank">üí¨ Discord</a> | <a href="https://www.paypal.com/paypalme/funcybeardev" target="_blank">‚ù§Ô∏è Donate</a></p>
        </div>
    </div>

    <script>
        // Common Minecraft items
        const commonItems = [
            "DIAMOND", "EMERALD", "GOLD_INGOT", "IRON_INGOT", "NETHERITE_INGOT",
            "NETHER_STAR", "BEACON", "TURTLE_HELMET", "SCUTE", "MUSIC_DISC_PIGSTEP",
            "ELYTRA", "SHULKER_BOX", "TOTEM_OF_UNDYING", "HEART_OF_THE_SEA", "NAUTILUS_SHELL",
            "CONDUIT", "TRIDENT", "ENCHANTED_GOLDEN_APPLE", "NETHERITE_SCRAP", "ANCIENT_DEBRIS",
            "BLAZE_ROD", "ENDER_PEARL", "ENDER_EYE", "SPONGE", "PRISMARINE_SHARD",
            "PRISMARINE_CRYSTALS", "SEA_LANTERN", "CORAL_BLOCK", "TUBE_CORAL_BLOCK", "BRAIN_CORAL_BLOCK",
            "BUBBLE_CORAL_BLOCK", "FIRE_CORAL_BLOCK", "HORN_CORAL_BLOCK", "LILY_PAD", "NAME_TAG",
            "SADDLE", "DIAMOND_HORSE_ARMOR", "GOLDEN_HORSE_ARMOR", "IRON_HORSE_ARMOR", "LEAD",
            "ENCHANTED_BOOK"
        ];

        // Enchantments for enchanted books
        const enchantments = [
            "PROTECTION", "FIRE_PROTECTION", "FEATHER_FALLING", "BLAST_PROTECTION", "PROJECTILE_PROTECTION",
            "RESPIRATION", "AQUA_AFFINITY", "THORNS", "DEPTH_STRIDER", "FROST_WALKER",
            "BINDING_CURSE", "SHARPNESS", "SMITE", "BANE_OF_ARTHROPODS", "KNOCKBACK",
            "FIRE_ASPECT", "LOOTING", "SWEEPING_EDGE", "EFFICIENCY", "SILK_TOUCH",
            "UNBREAKING", "FORTUNE", "POWER", "PUNCH", "FLAME",
            "INFINITY", "LUCK_OF_THE_SEA", "LURE", "LOYALTY", "IMPALING",
            "RIPTIDE", "CHANNELING", "MULTISHOT", "QUICK_CHARGE", "PIERCING",
            "MENDING", "VANISHING_CURSE"
        ];

        document.addEventListener('DOMContentLoaded', function() {
            const tradesContainer = document.getElementById('trades-container');
            const addTradeBtn = document.getElementById('add-trade');
            const generateBtn = document.getElementById('generate-config');
            const copyBtn = document.getElementById('copy-config');
            const output = document.getElementById('output');
            
            // Add first trade by default
            addTrade();
            
            addTradeBtn.addEventListener('click', function() {
                addTrade();
                this.classList.add('animate__animated', 'animate__pulse');
                setTimeout(() => {
                    this.classList.remove('animate__animated', 'animate__pulse');
                }, 1000);
            });
            
            generateBtn.addEventListener('click', function() {
                generateConfig();
                this.classList.add('animate__animated', 'animate__rubberBand');
                setTimeout(() => {
                    this.classList.remove('animate__animated', 'animate__rubberBand');
                }, 1000);
            });
            
            copyBtn.addEventListener('click', function() {
                copyConfig();
                this.classList.add('animate__animated', 'animate__bounce');
                setTimeout(() => {
                    this.classList.remove('animate__animated', 'animate__bounce');
                }, 1000);
            });
            
            function addTrade() {
                const tradeId = Date.now();
                const tradeDiv = document.createElement('div');
                tradeDiv.className = 'trade animate__animated animate__fadeIn';
                tradeDiv.innerHTML = `
                    <div class="trade-header">
                        <h3>Trade #${document.querySelectorAll('.trade').length + 1}</h3>
                        <button class="remove-trade" data-id="${tradeId}">‚ùå Remove</button>
                    </div>
                    <div class="form-group">
                        <label for="item-${tradeId}">Item to Sell:</label>
                        <select id="item-${tradeId}" class="item-select">
                            ${commonItems.map(item => `<option value="${item}">${item.replace(/_/g, ' ').toLowerCase()}</option>`).join('')}
                            <option value="CUSTOM">Custom item...</option>
                        </select>
                        <input type="text" id="custom-item-${tradeId}" class="hidden" placeholder="Enter custom item (e.g., STONE_BRICKS)">
                    </div>
                    <div class="form-group">
                        <label for="price-${tradeId}">Amount to Sell:</label>
                        <input type="number" id="price-${tradeId}" value="1" min="1">
                    </div>
                    <div class="form-group hidden" id="enchantment-group-${tradeId}">
                        <label for="enchantment-${tradeId}">Enchantment:</label>
                        <select id="enchantment-${tradeId}">
                            ${enchantments.map(ench => `<option value="${ench}">${ench.replace(/_/g, ' ').toLowerCase()}</option>`).join('')}
                        </select>
                    </div>
                    <div class="form-group hidden" id="level-group-${tradeId}">
                        <label for="level-${tradeId}">Enchantment Level:</label>
                        <input type="number" id="level-${tradeId}" value="1" min="1" max="10">
                    </div>
                    <div class="form-group">
                        <label for="cost1-${tradeId}">First Cost Item:</label>
                        <select id="cost1-${tradeId}" class="cost-select">
                            ${commonItems.map(item => `<option value="${item}">${item.replace(/_/g, ' ').toLowerCase()}</option>`).join('')}
                            <option value="CUSTOM">Custom item...</option>
                        </select>
                        <input type="text" id="custom-cost1-${tradeId}" class="hidden" placeholder="Enter custom item (e.g., COBBLESTONE)">
                    </div>
                    <div class="form-group">
                        <label for="amount1-${tradeId}">First Cost Amount:</label>
                        <input type="number" id="amount1-${tradeId}" value="1" min="1">
                    </div>
                    <div class="form-group">
                        <label for="cost2-${tradeId}">Second Cost Item (optional):</label>
                        <select id="cost2-${tradeId}" class="cost-select">
                            <option value="">None</option>
                            ${commonItems.map(item => `<option value="${item}">${item.replace(/_/g, ' ').toLowerCase()}</option>`).join('')}
                            <option value="CUSTOM">Custom item...</option>
                        </select>
                        <input type="text" id="custom-cost2-${tradeId}" class="hidden" placeholder="Enter custom item (e.g., REDSTONE)">
                    </div>
                    <div class="form-group">
                        <label for="amount2-${tradeId}">Second Cost Amount:</label>
                        <input type="number" id="amount2-${tradeId}" value="1" min="1">
                    </div>
                `;
                tradesContainer.appendChild(tradeDiv);
                
                // Add event listeners for custom item inputs
                const itemSelect = tradeDiv.querySelector(`#item-${tradeId}`);
                const customItemInput = tradeDiv.querySelector(`#custom-item-${tradeId}`);
                const enchantmentGroup = tradeDiv.querySelector(`#enchantment-group-${tradeId}`);
                const levelGroup = tradeDiv.querySelector(`#level-group-${tradeId}`);
                
                itemSelect.addEventListener('change', function() {
                    if (this.value === 'CUSTOM') {
                        customItemInput.classList.remove('hidden');
                        customItemInput.value = '';
                    } else {
                        customItemInput.classList.add('hidden');
                        customItemInput.value = '';
                    }
                    
                    if (this.value === 'ENCHANTED_BOOK') {
                        enchantmentGroup.classList.remove('hidden');
                        levelGroup.classList.remove('hidden');
                    } else {
                        enchantmentGroup.classList.add('hidden');
                        levelGroup.classList.add('hidden');
                    }
                });
                
                tradeDiv.querySelectorAll('.cost-select').forEach(select => {
                    select.addEventListener('change', function() {
                        const customId = this.id.replace('cost', 'custom-cost');
                        const customInput = document.getElementById(customId);
                        if (this.value === 'CUSTOM') {
                            customInput.classList.remove('hidden');
                            customInput.value = '';
                        } else {
                            customInput.classList.add('hidden');
                            customInput.value = '';
                        }
                    });
                });
                
                // Add event listener to the remove button
                tradeDiv.querySelector('.remove-trade').addEventListener('click', function() {
                    tradeDiv.classList.add('animate__animated', 'animate__fadeOut');
                    setTimeout(() => {
                        tradesContainer.removeChild(tradeDiv);
                        updateTradeNumbers();
                    }, 500);
                });
            }
            
            function updateTradeNumbers() {
                const trades = document.querySelectorAll('.trade');
                trades.forEach((trade, index) => {
                    trade.querySelector('h3').textContent = `Trade #${index + 1}`;
                });
            }
            
            function generateConfig() {
                const minTrades = document.getElementById('minTrades').value;
                const maxTrades = document.getElementById('maxTrades').value;
                
                const trades = [];
                const tradeElements = document.querySelectorAll('.trade');
                
                tradeElements.forEach(trade => {
                    const tradeId = trade.querySelector('.remove-trade').dataset.id;
                    
                    // Get item (either from select or custom input)
                    let item;
                    const itemSelect = document.getElementById(`item-${tradeId}`);
                    if (itemSelect.value === 'CUSTOM') {
                        item = document.getElementById(`custom-item-${tradeId}`).value.trim().toUpperCase();
                    } else {
                        item = itemSelect.value;
                    }
                    
                    const price = document.getElementById(`price-${tradeId}`).value;
                    
                    // Get enchantment data if it's an enchanted book
                    let enchantment, level;
                    if (item === 'ENCHANTED_BOOK') {
                        enchantment = document.getElementById(`enchantment-${tradeId}`).value;
                        level = document.getElementById(`level-${tradeId}`).value;
                    }
                    
                    // Get first cost
                    let cost1, amount1;
                    const cost1Select = document.getElementById(`cost1-${tradeId}`);
                    if (cost1Select.value === 'CUSTOM') {
                        cost1 = document.getElementById(`custom-cost1-${tradeId}`).value.trim().toUpperCase();
                    } else {
                        cost1 = cost1Select.value;
                    }
                    amount1 = document.getElementById(`amount1-${tradeId}`).value;
                    
                    // Get second cost (optional)
                    let cost2, amount2;
                    const cost2Select = document.getElementById(`cost2-${tradeId}`);
                    if (cost2Select.value === 'CUSTOM') {
                        cost2 = document.getElementById(`custom-cost2-${tradeId}`).value.trim().toUpperCase();
                    } else if (cost2Select.value) {
                        cost2 = cost2Select.value;
                    }
                    amount2 = document.getElementById(`amount2-${tradeId}`).value;
                    
                    if (!item || !cost1) {
                        return; // Skip invalid trades
                    }
                    
                    // Format the trade object
                    const tradeObj = {};
                    tradeObj.item = item;
                    
                    if (cost2) {
                        // New format with two costs
                        tradeObj.price = parseInt(price);
                        tradeObj.cost1 = cost1;
                        tradeObj.amount1 = parseInt(amount1);
                        tradeObj.cost2 = cost2;
                        tradeObj.amount2 = parseInt(amount2);
                    } else {
                        // Backward compatible format with single cost
                        tradeObj.cost = cost1;
                        tradeObj.amount = parseInt(amount1);
                        tradeObj.price = parseInt(price);
                    }
                    
                    if (item === 'ENCHANTED_BOOK' && enchantment) {
                        tradeObj.enchantment = enchantment;
                        tradeObj.level = parseInt(level);
                    }
                    
                    trades.push(tradeObj);
                });
                
                // Format the output as YAML-like syntax
                let outputText = `# Wandering Trader Trades Config\n# Generated by funcy's Config Generator\n\n`;
                outputText += `wandering_trader_trades:\n`;
                
                trades.forEach(trade => {
                    outputText += `  - item: ${trade.item}\n`;
                    
                    if (trade.cost1) {
                        // New format
                        outputText += `    price: ${trade.price}\n`;
                        outputText += `    cost1: ${trade.cost1}\n`;
                        outputText += `    amount1: ${trade.amount1}\n`;
                        if (trade.cost2) {
                            outputText += `    cost2: ${trade.cost2}\n`;
                            outputText += `    amount2: ${trade.amount2}\n`;
                        }
                    } else {
                        // Backward compatible format
                        outputText += `    cost: ${trade.cost}\n`;
                        outputText += `    amount: ${trade.amount}\n`;
                        outputText += `    price: ${trade.price}\n`;
                    }
                    
                    if (trade.enchantment) {
                        outputText += `    enchantment: ${trade.enchantment}\n`;
                        outputText += `    level: ${trade.level}\n`;
                    }
                    
                    outputText += `\n`;
                });
                
                outputText += `min_trades_displayed: ${minTrades}\n`;
                outputText += `max_trades_displayed: ${maxTrades}\n`;
                
                output.value = outputText;
                
                // Animate the output
                output.classList.add('animate__animated', 'animate__flash');
                setTimeout(() => {
                    output.classList.remove('animate__animated', 'animate__flash');
                }, 1000);
            }
            
            function copyConfig() {
                output.select();
                document.execCommand('copy');
                
                // Show a nice notification
                const notification = document.createElement('div');
                notification.textContent = 'Config copied to clipboard!';
                notification.style.position = 'fixed';
                notification.style.bottom = '20px';
                notification.style.right = '20px';
                notification.style.backgroundColor = '#4CAF50';
                notification.style.color = 'white';
                notification.style.padding = '10px 20px';
                notification.style.borderRadius = '4px';
                notification.style.boxShadow = '0 2px 10px rgba(0,0,0,0.2)';
                notification.style.animation = 'fadeIn 0.3s, fadeOut 0.3s 2s forwards';
                document.body.appendChild(notification);
                
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 2500);
            }
        });
    </script>
</body>
</html>
